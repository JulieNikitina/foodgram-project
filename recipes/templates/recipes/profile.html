{% extends 'base.html' %}
{% block title %}Страница пользователя {{ author.name }}{% endblock %}
{% block content %}
{% load static %}
{% block stylesheet %}
   <link rel="stylesheet" href="{% static 'pages/index.css'%}">
{% endblock %}
{% csrf_token %}
<div class="main__header">
    <h1 class="main__title"> {{ author.username }}</h1>
    {% include 'recipes/utils/tags.html' %}
</div>
<div class="author-subscribe" data-author={{author.id}}>
    {% if request.user.id != author.id %}

        <p style="padding: 0 0 2em 0;">
            {% if following %}
            <button class="button button_style_light-blue button_size_subscribe" name="subscribe">Отписаться
            </button>
            {% else %}
             <button class="button button_style_light-blue button_size_subscribe" name="subscribe" data-out>Подписаться
                на автора
            </button>
            {% endif %}
        </p>
    {% endif %}
    <div class="card-list">
        {% for recipe in page %}
         {% include 'recipes/utils/recipe_card.html' %}
        {% endfor %}
    </div>
    {% if page.has_other_pages %}
    {% include "utils/paginator.html" with items=page paginator=paginator %}
    {% endif %}

</div>
</div>
{% endblock %}
{% block scripts %}
    <script src="{% static 'js/components/MainCards.js'%}"></script>
    <script src="{% static 'js/components/Purchases.js'%}"></script>
    {% if user.is_authenticated %}
        <script src="{% static 'js/components/Favorites.js'%}"></script>
        <script src="{% static 'js/components/Subscribe.js'%}"></script>
    {% endif %}
    <script src="{% static 'js/config/config.js'%}"></script>
    <script src="{% static 'js/components/AuthorRecipe.js'%}"></script>
    <script src="{% static 'js/components/Header.js'%}"></script>
    <script src="{% static 'js/api/Api.js'%}"></script>
    <script src="{% static 'yp/authorRecipe.js' %}"></script>
{% endblock %}